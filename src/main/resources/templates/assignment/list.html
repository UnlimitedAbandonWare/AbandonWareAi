<!-- src/main/resources/templates/assignments/list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/layout :: head"></head>
<body>
<div th:replace="fragments/layout :: header"></div>

<div class="container mt-4">
  <h1>과제 목록</h1>
  <table class="table table-striped">
    <thead class="table-dark">
    <tr>
      <th>제목</th>
      <th>마감일</th>
      <th>제출 상태</th>
      <th>액션</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="assignment : ${assignments}">
      <td th:text="${assignment.title}">과제 제목</td>
      <td th:text="${#dates.format(assignment.deadline, 'yyyy-MM-dd HH:mm')}">
        2025-06-30 23:59
      </td>
      <td th:text="${submissionStatus[assignment.id] ?: '미제출'}">미제출</td>
      <td>
        <a th:if="${submissionStatus[assignment.id] == null}"
           th:href="@{/assignments/{id}/submit(id=${assignment.id})}"
           class="btn btn-primary btn-sm">
          제출하기
        </a>
        <span th:if="${submissionStatus[assignment.id] != null}">
              완료
            </span>
      </td>
    </tr>
    </tbody>
  </table>
</div>

<div th:replace="fragments/layout :: footer"></div>
</body>
</html>
