<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8"/>
  <title>로그인</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body class="bg-light d-flex justify-content-center align-items-center vh-100">
<div class="card p-4 shadow" style="min-width: 320px;">
  <h3 class="mb-3 text-center">LMS 로그인</h3>

  <!-- spring-security extras 를 사용해 CSRF 토큰 자동 삽입 -->
  <form th:action="@{/login}" th:object="${loginForm}" method="post" sec:csrf>
    <!-- 회원가입 성공 메시지 -->
    <div th:if="${registerMessage}" class="alert alert-success p-2" th:text="${registerMessage}"></div>
    <!-- 로그인 실패 메시지 -->
    <div th:if="${errorMessage}" class="alert alert-danger p-2" th:text="${errorMessage}"></div>
    <!-- 로그아웃 메시지 -->
    <div th:if="${logoutMessage}" class="alert alert-info p-2" th:text="${logoutMessage}"></div>

    <!-- 아이디 -->
    <div class="mb-3">
      <label class="form-label">아이디</label>
      <input th:field="*{username}" type="text" class="form-control" placeholder="아이디" required autofocus/>
    </div>

    <!-- 비밀번호 -->
    <div class="mb-3">
      <label class="form-label">비밀번호</label>
      <input th:field="*{password}" type="password" class="form-control" placeholder="비밀번호" required/>
    </div>

    <button class="btn btn-primary w-100" type="submit">로그인</button>
  </form>

  <hr/>

  <div class="text-center">
    <a th:href="@{/register}" class="text-decoration-none">회원가입</a>
  </div>
</div>
</body>
</html>
